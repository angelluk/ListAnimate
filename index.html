<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Forex новости и аналитика</title>

    <link rel="shortcut icon" href="img/indicator.gif">
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/styles.css" rel="stylesheet">

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>
    
  </head>
 
  <body>
  
    <div class="container">
       
        <div class=" col-md-4 col-md-offset-4 ">
            
        <ul class="list-group">
          <li class="list-group-item ">Dapibus ac facilisis in</li>
          <li class="list-group-item ">Cras sit amet nibh libero</li>
          <li class="list-group-item ">Porta ac consectetur ac</li>
          <li class="list-group-item ">Vestibulum at eros</li>
          <li class="list-group-item ">Dapibus ac facilisis in</li>
          <li class="list-group-item ">Cras sit amet nibh libero</li>
          <li class="list-group-item ">Porta ac consectetur ac</li>
          <li class="list-group-item ">Vestibulum at eros</li>
          <li class="list-group-item ">Dapibus ac facilisis in</li>
          <li class="list-group-item ">Cras sit amet nibh libero</li>
          <li class="list-group-item ">Porta ac consectetur ac</li>
          <li class="list-group-item ">Vestibulum at eros</li>
        </ul>

        <button type="button"  id="play" class="btn btn-success">Play</button>

        </div>
                    
    </div>

    <script>
       
         var Diff,MoveFirstIndex,MoveSecondIndex,RealFirst,RealSecond;

              // функция возврата случайного числа из диапазона
              var getRandom = function (min,max){
                 return Math.floor(Math.random()*(max-min) + min);

              };

              // функция  случайной аннимации
              var Shuttle = function (len){

                MoveFirstIndex = getRandom(0,len);
                MoveSecondIndex = getRandom(0,len);

                Diff = Math.abs(MoveSecondIndex-MoveFirstIndex);

                RealFirst = 0;
                RealSecond=0;

              };

              $(document).ready(function(){
                  
               var Play = function(){


                 Shuttle(12);  

                 
                 var Lists = $("ul li");

                 var FirstMove ,SecondMove,colorFirst,colorSecond;  

                 if(MoveFirstIndex !== MoveSecondIndex){

                  var FirstCSS = "ul li:eq(" + MoveFirstIndex + ")";
                  var SecondCSS = "ul li:eq(" + MoveSecondIndex + ")";
                  
                  // реальное  свойтсво top         
                  var RealFirst = Lists[MoveFirstIndex].offsetTop;
                  var RealSecond = Lists[MoveSecondIndex].offsetTop;

                  var MovePx  = Math.abs(RealFirst-RealSecond); // разница top

                    if (RealFirst > RealSecond){

                       FirstMove = "-="+ MovePx + "px";
                       SecondMove = "+="+ MovePx + "px";
                      
                       clFirst = 'list-group-item-success ';
                       clSecond = 'list-group-item-danger';  
                       
                    }
                    else{

                       FirstMove = "+="+ MovePx + "px";
                       SecondMove = "-="+ MovePx + "px";

                       clFirst = 'list-group-item-danger' ;
                       clSecond = 'list-group-item-success ';   

                    }

                    if ($(FirstCSS).hasClass( clFirst ))$(FirstCSS).removeClass( clFirst);
                    if ($(FirstCSS).hasClass( clSecond))$(FirstCSS).removeClass( clSecond);

                    if ($(SecondCSS).hasClass( clFirst ))$(SecondCSS).removeClass( clFirst);
                    if ($(SecondCSS).hasClass( clSecond))$(SecondCSS).removeClass( clSecond);

                
                    $(FirstCSS).animate({ 'opacity': 0.5 },700).animate({ 'top': FirstMove },1500).addClass(clFirst).animate({ 'opacity': 1.0 },700); 
                    $(SecondCSS).animate({ 'opacity': 0.5 },700).animate({ 'top': SecondMove },1500).addClass(clSecond).animate({ 'opacity': 1.0 },700);;

                 }
                   
               };
                 
                // аннимация случайная
                $("#play").click(function () {

                   setInterval(function(){Play()}, 5000); // вызов обновления раз в N секунд
                                              
                 });

              });

      </script>

  </body>
</html>